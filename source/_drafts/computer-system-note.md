---
title: computer-system-note
category:
  - note
tags:
  - 深入理解计算机系统
toc: true
---

# 第六章

## 存储技术

### RAM

| 类型 | 解释                             | 影响                                                                                                                                                | 用途                              |
| ---- | -------------------------------- | --------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------- |
| Sram | 在通电状态下，始终保持在两个状态 | 不易受到光电等外部因素影响                                                                                                                          | 常用作 cpu 高速缓存（L1、L2、L3） |
| Dram | 使用电容充电表示一个位           | 易受到影响，但是因为 cpu 的速度为 ns 级别，相当于 ms 级别的影响，可以不停地反复刷取位，保障可用性 （因此会有带纠错 EEC 功能的内存条，常见于服务器） | 主存（内存）                      |

因为受到影响的话，会改变位上的数值，所以 SRAM 的稳态对 CPU 重要。

#### DRAM 的读写

DRAM 在实现中被组织成一个二维的结果（类似二维数组），每个存储位置被称为**超单元**，每个超单元**保存 8 位 1 字节的数据**

因此，访问 DRAM，需要 addr 阵脚分别传输 **行号** 和 **列号** （引脚的多少根据组织的 DRAM 的二维大小决定，如 4 * 4 的DRAM 只需要 2 位的阵脚传递即可）

同时回传的数据，需要通过 DATA 针脚，一次性回传 8 位数据（一个超单元）的数据

#### 访问主存（DRAM）

通过 `总线` 访问

- 读事务

```
movl A， %eax
```

读取主存 A 上的数据到寄存器 %eax 中。以上操作如下

    - 将 A 所在的主存地址放入到总线上，I/O 桥将该信号翻译传输到主存
    - 主存将 A 地址的数据通过 I/o 桥传递到总线上
    - CPU 被得到消息，将数据拷贝到 %eax 上


- 写事务

```
movl %eax, A
```

反过来，将寄存器 %eax 数值存储到主存 A 上。

    - 将 A 的地址通过总线写入到主存中，控制器等待数据
    - 将 %eax 的数据通过总线传输
    - 控制器将数据放到存储的 A 地址上

 